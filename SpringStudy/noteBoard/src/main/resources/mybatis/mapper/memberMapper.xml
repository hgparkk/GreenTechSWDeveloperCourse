<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.spring.study.member.dao.IMemberDAO">
  
  <insert id="insertMember" parameterType="MemberDTO">
		INSERT INTO c_members (
			c_mem_id,
			c_mem_pw,
			c_mem_name
		) VALUES (
			#{cMemId},
			#{cMemPw},
			#{cMemName}
		)
	</insert>
	
	<select id="loginMember" parameterType="MemberDTO" resultType="MemberDTO">
		SELECT
			c_mem_id,
			c_mem_pw,
			c_mem_name
		FROM
			c_members
		WHERE 1=1
			AND c_mem_id = #{cMemId}
			AND c_mem_pw = #{cMemPw}
	</select>
	
	<select id="selectMember" parameterType="String" resultType="MemberDTO">
		SELECT
			c_mem_id,
			c_mem_pw,
			c_mem_name
		FROM c_members
		WHERE 1=1
			AND c_mem_id = #{cMemId}
	</select>
	
	<update id="updateMember" parameterType="MemberDTO">
		UPDATE
			c_members
		SET
			c_mem_name = #{cMemName}
			
			<if test="cMemPw.isEmpty() == false">
				,c_mem_pw = #{cMemPw}
			</if>
		WHERE 1=1
			AND c_mem_id = #{cMemId}
	</update>
	
	<delete id="deleteMember" parameterType="String">
		DELETE FROM
			c_members
		WHERE
			c_mem_id = #{cMemId}
	</delete>
</mapper>