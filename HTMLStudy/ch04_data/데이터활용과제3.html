<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>데이터활용과제3</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        .canvas-box {
            width: 500px;
        }
    </style>
</head>

<body>
    <div class="canvas-box">
        <canvas id="myChart1"></canvas>
    </div>
    <div class="canvas-box">
        <canvas id="myChart2"></canvas>
    </div>

    <script>
        let animalInfo = JSON.parse(localStorage.getItem("animalInfo"))

        let crx1 = document.getElementById("myChart1")
        let crx2 = document.getElementById("myChart2")

        let v_labels = ["개", "고양이", "기타동물"]

        let v_data = [0, 0, 0, 0]

        for (let i of animalInfo) {
            v_data[parseInt(i["classification"])]++
        }

        v_data.splice(0, 1)

        new Chart(crx1, {
            type: 'bar',
            data: {
                labels: v_labels,
                datasets: [{
                    label: "유기동물 수",
                    data: v_data,
                }]
            }
        });

        new Chart(crx2, {
            type: 'pie',
            data: {
                labels: v_labels,
                datasets: [{
                    label: "유기동물 수",
                    data: v_data,
                }]
            }
        });
    </script>
</body>

</html>