<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>window객체</title>
</head>

<body>
    <script>
        let v_box = document.getElementById("box")
        console.log(v_box)

        // 태그 요소들이 렌더링 된 후 코드 실행 방법
        // 1. document 이용
        document.addEventListener("DOMContentLoaded", () => {
            let v_box = document.getElementById("box")
            console.log(v_box)
        })

        //2. window 객체 이용. 모든 렌더링이 끝난 후 실행됨
        window.onload = () => {
            let v_box = document.getElementById("box")
            console.log(v_box)
        }

        // window 객체는 현재 브라우저 창에 대한 객체

        // 웹, 앱에 대해 내부적으로 실행되는 타이밍들이 존재하는데 이름 웹, 앱에 대한 라이프 사이클이라고 부른다

        // 웹의 라이프 사이클
        // 1. 페이지 진입 시 : html 태그 렌더링, script 태그 실행
        // 2. 1차 렌더링 후 : document ready(DOMContentLoaded) 실행
        // 3. 모든 렌더링 후 : window의 onload 실행
        // 4. 사이트 이용 상태
        // 5. 페이지를 벗어나기 직전 : window의 onbeforeunload 실행
        // 6. 페이지를 벗어남 : window의 unload 실행

        //페이지를 벗어나기 직전 실행
        window.onbeforeunload = () => {
            // 변경사항이 저장되지 않았을 수 있습니다 alert 띄움. 반환되는 문자열은 관계 없다
            return "문자열"
        }

        // 페이지를 벗어날 때 실행
        window.unload = () => {
            // 페이지 이동 불가
            // 데이터를 저장해야하는 경우 사용
            location.href = "https://www.naver.com"
        }
    </script>

    <div id="box"></div>
</body>

</html>